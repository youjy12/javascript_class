<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>제이쿼리 문서객체 조작-scroll layout</title>
  <!-- 레이아웃 서식 -->
  <link href="./css/scroll_layout.css" rel="stylesheet" type="text/css">

  <!-- 제이쿼리 라이브러리 연결하기 -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script>
    $(function(){

      //1. 내비게이션 메뉴 클릭시 해당하는 인덱스 값 구하기
      let mnu = $('header .gnb > ul > li');

      mnu.click(function(){
        let n = $(this).index();
        console.log(n);
        $('html, body').animate({scrollTop:$('section').eq(n).offset().top-60},500);
        return false;
      });

      //화면스크롤 값 출력해보기
      $(window).scroll(function(){
        let spos = $(this).scrollTop()
        console.log(spos);
        //만약에 아래 해당하는 조건범위에 맞는 a요소에 서식 적용하기
        // if(spos>=0&&spos<=200){
        //   $('.gnb li:first-child a').addClass('t_act');
        // }else if(spos>=300&&spos<=1100){
        //   $('.gnb li:nth-child(2) a').addClass('t_act');
        // }else if(spos>=1200&&spos<=2000){
        //   $('.gnb li:nth-child(3) a').addClass('t_act');
        // }else if(spos>=2100&&spos<=2900){
        //   $('.gnb li:nth-child(4) a').addClass('t_act');
        // }else if(spos>=3000&&spos<=3800){
        //   $('.gnb li:nth-child(5) a').addClass('t_act');
        // }else if(spos>=3900&&spos<=4700){
        //   $('.gnb li:nth-child(6) a').addClass('t_act');
        // }else if(spos>=4800&&spos<=5461){
        //   $('.gnb li:last-child a').addClass('t_act');
        // }else{
        //   //조건에 해당되지 않으면 서식을 제거한다.
        //   $('.gnb li a').removeClass('t_act');
        // }
        

//위에 내용을 offset메서드로 각각 해당하는 박스의 위치값으로 따른 서식적용
        $('main section').each(function(i){
          let top = $(this).offset().top-100;
          if(spos>=top){//만약에 spos의 값이 top보다 크면
            $('.gnb li a').removeClass('t_act');//기존 서식을 제거
            //해당 메뉴에 서식을 적용한다.
            $('.gnb li').eq(i).find('a').addClass('t_act');
          }
        });
      });

    });
  </script>
</head>
<body>
  <!-- 상단헤더영역 -->
  <header>
    <h1><a href="index.html" title="메인페이지로 바로가기">상단로고</a></h1>
    <nav class="gnb">
      <ul>
        <li><a href="#" title="home">home</a></li>
        <li><a href="#" title="features">features</a></li>
        <li><a href="#" title="overview">overview</a></li>
        <li><a href="#" title="pricing">pricing</a></li>
        <li><a href="#" title="team">team</a></li>
        <li><a href="#" title="blog">blog</a></li>
        <li><a href="#" title="contact">contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- 메인콘텐츠영역 -->
  <main>
    <!-- section.sec0$*7>h2 -->
    <section class="sec01">
      <h2>메인 비쥬얼 콘텐츠 </h2>
    </section>

    <section class="sec02">
      <h2>features</h2>
    </section>

    <section class="sec03">
      <h2>overview</h2>
    </section>

    <section class="sec04">
      <h2>pricing</h2>
    </section>

    <section class="sec05">
      <h2>team</h2>
    </section>

    <section class="sec06">
      <h2>blog</h2>
    </section>

    <section class="sec07">
      <h2>contact</h2>
    </section>
  </main>

  <!-- 푸터영역 -->
  <footer>
    <address>copyright&copy;2020 000 allrights reserved.</address>
  </footer>
</body>
</html>